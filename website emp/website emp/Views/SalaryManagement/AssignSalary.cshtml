@model IEnumerable< website_emp.Models.ViewModels.EmployeSalaryDepartmentViewModel>
@using website_emp.Models
@{
    ViewBag.Title = "AssignSalary";
    int rowcount = 1;
}
@functions {
    public SelectList getList(long? Templateid)
    {
        using (var context = new Context())
        {
            var list = (from i in context.salarytemplate
                        where i.IsDeleted == false
                        select new SelectListItem
                        {
                            Text = i.TemplateName,
                            Value= i.SalaryTemplateId.ToString()
                        }
                        ).ToList();
            SelectList lists = new SelectList(list, "Value", "Text");
            foreach (var item in lists)
            {
                if (item.Value == Templateid.Value.ToString())
                    item.Selected = true;
            }
            return lists;
        }
    }
        }
<input type="hidden" id="GetActiveTab" value="#AssignSalary" />
<link href="~/CustomCSS/Salary Module Css/assign-salary-to-employee.css" rel="stylesheet" />
<script src="~/Scripts/assign-salary-to-employee.js"></script>
<div class="mt-3 Big-Box">
    <div>
        <div class="col-12 col-xl-12 col-md-12 d-flex text-justify justify-content-center justify-content-sm-start">
            <h5>Assign Salary To Employee</h5>
        </div>
        <form action="@Url.Action("AssignSalary","SalaryManagement")">
            <div class="row m-3">
                <div class="col-12 col-xl-3 col-md-4 d-flex text-justify justify-content-center justify-content-sm-center">
                    <label class="mb-0 mt-2">Select Department</label>
                </div>
                <div class="col-12 col-xl-4 col-md-4 d-flex   text-justify justify-content-center justify-content-sm-center input-group">
                    @Html.DropDownList("DepartmentId", ViewBag.DepartmentId as SelectList, "Select Department", new { @class = "form-control shadow" })
                    <div class="input-group-append shadow"><span class="input-group-text fas fa-home d-flex"></span></div>
                </div>
                <div class="col-12 col-xl-4 col-md-4 d-flex  text-justify justify-content-center justify-content-sm-center  mt-3 mt-xl-0 mt-md-0">
                    <button type="submit" class="shadow border-0 font-weight-bold text-white form-control bg-info">Go</button>
                    @*<div class="input-group-append shadow"><span class="input-group-text fas fa-arrow-alt-circle-right d-flex"></span></div>*@
                </div>
            </div>
        </form>
    </div>
    <div class="">
    <div class="tbl-div mt-4">
        <table class="table table-bordered mt-0 table-striped tbl">
            <tr class="text-white bg-info">
                <th>Emp Id</th>
                <th>Employee Name</th>
                <th>Designation</th>
                <th>Department</th>
                <th>Tempalate Name</th>
                <th>Action</th>
            </tr>
            @foreach (var item in Model)
    {
            <form method="post" action="@Url.Action("AssignSalary","SalaryManagement")">
                <input type="hidden" value="@item.employe.EmployeId" name="EmployeId" />
                <tr>
                    <td>@rowcount</td>
                    <td>@item.employe.FirstName</td>

                    <td>
                        @item.designation.DesignationName
                    </td>
                    <td>
                        @item.employe.department.DepartmentName
                    </td>
                    <td>
                        @Html.DropDownList("SalaryTemplateId",getList(item.employe.SalaryTemplateId),new { @class= "form-control shadow" })
                        @*<select class="form-control shadow">
                            <option>Manager</option>
                            <option>Developer</option>
                            <option>Designer</option>
                            <option>Sqa</option>
                        </select>*@
                    </td>
                    <td>
                        <button type="submit" class="bg-info text-white shadow border-0"><i class="fas fa-plus"></i>&nbsp;&nbsp;Submit</button>
                    </td>
                </tr>
            </form>
            }
            @*@for (var a = 101; a <= 110; a++)
            {
            <tr>
                <td>@a</td><td>Zumaid khan</td>

                <td>
                  web Developer
                </td>
                <td>
                   Accountant
                </td>
                <td>
                    <select class="form-control shadow">
                        <option>Manager</option>
                        <option>Developer</option>
                        <option>Designer</option>
                        <option>Sqa</option>
                    </select>
                </td>
                <td>
                    <button type="submit" class="bg-info text-white shadow border-0"><i class="fas fa-plus"></i>&nbsp;&nbsp;Submit</button>
                </td>
            </tr>
            }*@
           
        </table>
    </div>
    @*<div class="col-12  d-flex text-justify justify-content-center justify-content-sm-end m-3">
        <button type="submit" class="shadow border-0 font-weight-bold text-white form-control bg-info mr-3 btn-submit">Submit</button>
    </div>*@
    </div>
</div>


