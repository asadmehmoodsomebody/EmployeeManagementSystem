@model Pagination<website_emp.Models.ViewModels.EmployeAttendanceViewModel>
@{
    ViewBag.Title = "DailyAttendance";

    int rowcount = 1 + ((Model.PageNumber - 1) * 10);
}

<input type="hidden" id="GetActiveTab" value="#DailyAttendance" />
<link href="~/CustomCSS/Attendance Module Css/DailyAttendance.css" rel="stylesheet" />
<div class="Big-Box">
    <div class="mt-3">
        <ul class="nav nav-tabs">
            <li class="nav-item ml-3">
                <a class="nav-link active" href="@Url.Action("DailyAttendance", "Attendance")">Daily Attendance</a>
            </li>
            <li class="nav-item ml-3">
                <a class="nav-link" href="@Url.Action("MonthlyAttendance", "Attendance")">Monthly Attendance</a>
            </li>


        </ul>
    </div>

        <div class="row bg-primary no-gutters m-0 text-white">
            <div class="col-12 m-0" style="height: 40px;">
                <span class="spanicon font-weight-bolder">
                    <i class="fas fa-calculator ml-3  mt-2">    &nbsp;Daily Attendance</i>
                    
                </span>
            </div>
        </div>
    <div class="bg-white no-gutters">

        <form action="@Url.Action("DailyAttendance","Attendance")">
            <div class="row m-3">
                <div class="col-sm-12 col-lg-3"></div>
                <div class="col-sm-12 col-lg-3">
                    <p class="m-0 text-center">Date</p>
                    <input type="date" name="date" value="@ViewData["date"]" class="shadow border bg-light form-control">
                </div>
                <div class="col-sm-12 col-lg-3">
                    <button type="submit" class="bg-info text-white border-0 shadow form-control mt-4">Filter</button>

                </div>

                <div class="col-lg-3">

                </div>
            </div>
        </form>
            <div class="tbl-div mt-3">
                <table class="table table-striped table-bordered Tbl-Daily">
                    <tr>
                        <th>S/L</th>
                        <th>Date</th>
                        <th>Employee Name</th>
                        <th>In Time</th>
                        <th>Out Time</th>
                        <th>Working Time</th>
                        <th>Status</th>
                    </tr>
                    @foreach (var item in Model)
                    {
                            <tr>
                                <td>1</td>
                                <td>@item.attendance.ForDay.Value.ToShortDateString()</td>
                                <td>@item.employe.FirstName</td>
                                <td>@item.shift.ShiftStartTime.Value.ToShortTimeString()</td>
                                <td>@item.shift.ShiftEndTime.Value.ToShortTimeString()</td>
                                <td>7 hours</td>
                                @if (item.attendance.Status == "Leave")
                                {
                                    <td style="background:yellow" >@item.attendance.Status</td>
                                }
                                else if (item.attendance.Status == "Present")
                                {
                                    <td style="background:green;">@item.attendance.Status</td>}
                                else
                                {
                                    <td style="background:red;">@item.attendance.Status</td>
                                }

                            </tr>

                    }
                    @*<script>
                        for(let i = 1; i <=5; i++)
                        {
                            document.write("<tr>");
                         
                            document.write("<td>" + i + "</td>");
                            document.write("<td>" + "02-10-2019" + "</td>");
                            document.write("<td>" + "Ismail" + "</td>");
                            document.write("<td>" + "2:30" + "</td>");
                            document.write("<td>" + "5:30" + "</td>");
                            document.write("<td>" + "5 hours" + "</td>");
                            document.write("<td>" + "No" + "</td>");
                            
                            document.write("<td>" + "<span class='bg-success'>Active</span>" + "</td>");
                            

                            
                            document.write("</tr>");
                        }
                    </script>*@
                </table>
               
            </div>
        </div>
    <div class="row no-gutters w-100">
        <div class="col-12 col-md-6 d-flex align-items-center justify-content-center justify-content-md-start pl-0 pl-md-2">
            <p class="text-justify">
                Page <span id="start-number">@Model.PageNumber</span>&nbsp;of <span id="total-pages">@Model.TotalPages</span>
            </p>
        </div>
        <div class="col-12 col-md-6 d-flex justify-content-center justify-content-md-end align-items-center pr-0 pr-md-2">
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    @if (!Model.HasPrevious)
                    {
                        <li class="page-item disabled"><a class="page-link disabled" href="#">Previous</a></li>
                    }
                    else
                    {
                        <li class="page-item "><a class="page-link" href="#">Previous</a></li>
                    }
                    @{
                        int i = 1;
                        if (Model.PageNumber - 2 > 1)
                        {
                            i = Model.PageNumber - 2;
                        }
                        for (; i <= (Model.PageNumber + 2) && i <= Model.TotalPages; i++)
                        {
                            <li class="page-item"><a class="page-link" href="#">@i</a></li>
                        }
                    }

                    @*<li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>*@
                    @if (!Model.HasNext)
                    {
                        <li class="page-item disabled"><a class="page-link disabled" href="#">Next</a></li>
                    }
                    else
                    {
                        <li class="page-item "><a class="page-link" href="#">Next</a></li>
                    }
                </ul>
            </nav>
        </div>
    </div>



    </div>

